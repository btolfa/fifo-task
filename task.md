# Управление светодиодом

## Тестовое задание
Необходимо реализовать систему управления светодиодом камеры. Светодиод камеры (LED)
характеризуется следующим набором параметров.

1. Состояние (state): on/off.
2. Цвет (color): red, green, blue.
3. Частота мерцания (rate): 0..5 (в Герцах).

## Архитектура
Система должна состоять из 2-х частей.

1. Программа на C++ (сервер), непосредственно взаимодействующая с "оборудованием".
2. Скрипт на BASH (клиент), который обеспечивает удобный интерфейс для управления светодиодом.

Сервер и клиент общаются между собой посредством именованных каналов (FIFO) с помощью простого
текстового протокола запрос-ответ.

## Протокол

Каждый запрос и ответ представляют собой строку, заканчивающуюся символом '\n'.

* Запрос: `COMMAND [ARGUMENT]\n`
* Ответ: `STATUS [RESULT]\n`

Поле ответа STATUS может принимать следующие значения:

1. `OK` – команда выполнена успешно.
2. `FAILED` – в результате выполнения команды произошла ошибка.

### Команды
Сервер должен поддерживать следующие команды:

| Команда | Аргумент | Результат | Описание |
| --- | --- | --- | --- |
| `set-led-state` | `on`, `off` | `OK`, `FAILED` | включить/выключить LED |
| `get-led-state` | | `OK on\off`, `FAILED` | запросить состояние LED |
| `set-led-color` | `red`, `green`, `blue` | `OK`, `FAILED` | изменить цвет LED |
| `get-led-color` | | `OK red\green\blue`, `FAILED` | запросить цвет LED |
| `set-led-rate` | `0..5` | `OK`, `FAILED` | изменить частоту мерцания LED |
| `get-led-rate` | | `OK 0..5`, `FAILED` | запросить частоту мерцания LED |

### Примеры
R – запрос, A – ответ.

* R: `get-led-state\n`
* A: `OK on\n`


* R: `set-led-color yellow\n`
* A: `FAILED\n`

## Требование к серверу

1. Сервер должен корректно обрабатывать ошибки.
2. Архитектура сервера должна позволять легко добавлять новые команды и изменять логику работы
существующих.
3. Визуализация работы сервера оставляется на усмотрение разработчика.

## Требования к клиенту

1. Клиентский скрипт должен скрывать от пользователя детали работы с протоколом.
2. Необходимо предусмотреть возможность параллельной работы нескольких экземпляров клиента.
3. Архитектура клиента должна позволять легко добавлять новые команды и изменять логику работы
существующ их.

## Результат выполнения задания

1. Результат выполнения тестового задания должен быть доступен в виде репозитория на Bitbucket или
Github, содержащий все исходные коды программы и скриптов, а также Makefile для сборки и краткую
инструкцию по использованию (если требуется).
2. Код и скрипты должны быть рассчитаны на сборку и выполнение на современном дистрибутиве ОС
Linux.
3. Можно использовать сторонние библиотеки (boost), рекомендуется ограничиться С++11